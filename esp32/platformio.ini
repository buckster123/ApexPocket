; ApexPocket PlatformIO Configuration
; Compile with: pio run
; Simulate with: wokwi-cli .

[env:esp32s3]
platform = espressif32
board = seeed_xiao_esp32s3
framework = arduino
monitor_speed = 115200

; Libraries
lib_deps =
    adafruit/Adafruit SSD1306@^2.5.7
    adafruit/Adafruit GFX Library@^1.11.5
    bblanchon/ArduinoJson@^6.21.0
    ; SD Card support
    SPI
    SD

; Build flags for XIAO S3
build_flags =
    -DARDUINO_LOOP_STACK_SIZE=16384
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DFW_VERSION=\"2.0.0\"
    -DFW_BUILD=\"cloud-v112\"

; Filesystem
board_build.filesystem = littlefs
board_build.partitions = default_8MB.csv

; For regular ESP32 (non-S3) variant
[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200

lib_deps =
    adafruit/Adafruit SSD1306@^2.5.7
    adafruit/Adafruit GFX Library@^1.11.5
    bblanchon/ArduinoJson@^6.21.0

build_flags =
    -DARDUINO_LOOP_STACK_SIZE=16384

board_build.filesystem = littlefs
